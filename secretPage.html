<!DOCTYPE html>

<!--
<script> 
if (typeof(Storage) !== "undefined") {
    if ( localStorage.getItem("LoggedIn") == "false" ) {
        console.log("Not Logged In - redirect to login"); 
        window.location = "login"; 
    } else {
        console.log("Logged In - continue to profile page"); 
    }
}
</script> 
-->

<html>
<head>

 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>  
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="mustache.js"> </script> 
 
</head>

<body>
    <h4> Profile Page </h4>
    
    <p> <b> Hello !</b> </p>
    <p> Welcome to your profile </p> 
    <br> 
    
    <p> First Name : {{_firstName}} </p> 
    <p> Last Name : {{_lastName}} </p> 
    <p> Email : {{_email}} </p>
    <br> 
     
  <form id="uploadForm" enctype="multipart/form-data" action="/api/photo" method="post">  
  <input type="file" name="profilePic" /> 
  <input type="submit" value="Upload Profile Pic" name="submit">
  </form>
    
    <br>
    
   <img src="{{_profilePicPathJs}}" height="200" width="200" alt="profile picture"> 
             
    <br> <br>
    <form id="logoutRequest" action="/logout" method="post">
   <!-- <button type="button" onclick="Logout()"> Logout </button> -->
    <input type="submit" value="Logout" name="Logout"> 
    </form> 
      
</body>
</html> 

<script>
  
function Logout() {
   
 /* localStorage.setItem("LoggedIn", "false"); 
  console.log("set Logged In -> false"); 
  
  window.location="login"; 
  console.log("Signed Out -> redirected to login page"); */
  
  /*
  $.ajax({
      type: "POST",
      url: "logout",
      dataType: "json",
      data: 'dataString',
      success: function() {
          console.log("successful logout request");
      //    window.location = "logout";
      }
      //dataType: dataType
  });   
  */
  
  /*
  $.post(
  "logout",
  { key1: "value1", key2: "value2" },
  success: function() {
      window.location = "logout"; 
  //  alert("Response: " + data);
  }
); 
*/ 

 /* $.post("logout", function(data) {
     
  }); */
  
  console.log("logout"); 
  
} 

      
</script>
      
